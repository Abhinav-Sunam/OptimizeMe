<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Circle</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cal+Sans&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap" rel="stylesheet">
</head>
<body>
    <nav>
        <h1 class="projName">OptimizeMe</h1>
        <img src="newlogo.png" alt="Logo">
    </nav>

    <main>
        <p class="heading">Eco Health</p>
        <div class="progress-container">
            <svg class="progress-circle" width="100" height="100">
                <!-- No more gradient -->
                <circle class="progress-bg" cx="50" cy="50" r="45" stroke="#d3d3d3" stroke-width="10" fill="none" />
                <circle class="progress-bar" cx="50" cy="50" r="45" stroke="#4caf50" stroke-width="10" fill="none" 
                        stroke-dasharray="283" stroke-dashoffset="283" />
            </svg>
            <div class="progress-text">0%</div>
        </div>
    </main>

    <script>
        // Backend health value (example, replace this with real data from your backend)
        let healthX = 75; // This is the value you get from the backend (max: 100)

        // Function to update the progress circle
        function updateHealthCircle(health) {
            const progressBar = document.querySelector('.progress-bar');
            const progressText = document.querySelector('.progress-text');

            // Calculate the stroke-dashoffset based on the health percentage
            const maxStrokeLength = 283; // Circumference of the circle (2 * Math.PI * radius)
            const dashOffset = maxStrokeLength - (health / 100) * maxStrokeLength;

            // Update the circle and the text
            progressBar.style.strokeDashoffset = dashOffset;
            progressText.textContent = `${health}%`;
        }

        // Simulate receiving the health value from the backend
        setTimeout(() => {
            updateHealthCircle(healthX); // Update the circle with the backend value
        }, 1000); // Simulate a delay of 1 second
    </script>
</body>
</html>