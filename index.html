<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OptimizeMe</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="newlogo.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Cal+Sans&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap" rel="stylesheet">
</head>

<body>
    <nav class="navbar">
        <div class="navbar-container">
            <h1 class="projName">OptimizeMe</h1>
            <div class="dropdown">
                <img src="newlogo.png" alt="Logo" class="navbar-logo">
                <div class="dropdown-menu">
                    <a href="#contact">Contact Us</a>
                    <a href="#about">About Us</a>
                    <a href="#help">Help</a>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <div class="eco-health-box">
            <p class="heading">Eco Health</p>
            <div class="progress-container">
                <svg class="progress-circle" width="150" height="150">
                    <circle class="progress-bg" cx="75" cy="75" r="65" stroke="#d3d3d3" stroke-width="15" fill="none" />
                    <circle class="progress-bar" cx="75" cy="75" r="65" stroke="#4caf50" stroke-width="15" fill="none" 
                            stroke-dasharray="408" stroke-dashoffset="408" />
                </svg>
                <div class="progress-text">0%</div>
            </div>
        </div>
    </main>

    <script>
        // Backend health value (example, replace this with real data from your backend)
        let healthX = 75; // This is the value you get from the backend (max: 100)

        // Function to update the progress circle
        function updateHealthCircle(health) {
            const progressBar = document.querySelector('.progress-bar');
            const progressText = document.querySelector('.progress-text');

            // Calculate the stroke-dashoffset based on the health percentage
            const maxStrokeLength = 408; // Circumference of the circle (2 * Math.PI * radius)
            const dashOffset = maxStrokeLength - (health / 100) * maxStrokeLength;

            // Update the circle and the text
            progressBar.style.strokeDashoffset = dashOffset;
            progressText.textContent = `${health}%`;
        }

        // Simulate receiving the health value from the backend
        setTimeout(() => {
            updateHealthCircle(healthX); // Update the circle with the backend value
        }, 1000); // Simulate a delay of 1 second
    </script>
</body>
</html>